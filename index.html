<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thai Bus Route Logger</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2196F3">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header>
            <h1>Bus Route Logger</h1>
            <div class="status-bar">
                <span id="current-time" class="time"></span>
                <span id="trip-status" class="trip-info"></span>
            </div>
        </header>

        <!-- Setup Phase -->
        <section id="setup-phase" class="phase">
            <div class="card">
                <h2>Trip Setup</h2>
                
                <div class="form-group">
                    <label for="route-select">Route Color *</label>
                    <select id="route-select" required>
                        <option value="">Select Route</option>
                        <option value="Red">Red Line</option>
                        <option value="Yellow">Yellow Line</option>
                        <option value="Blue">Blue Line</option>
                        <option value="Green">Green Line</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="plate-input">Bus Plate Number</label>
                    <input type="text" id="plate-input" placeholder="e.g., ‡∏Å‡∏ó-1234">
                </div>
                
                <div class="form-group">
                    <label for="weather-select">Weather</label>
                    <select id="weather-select">
                        <option value="">Select weather</option>
                        <option value="sunny">üåû Sunny</option>
                        <option value="cloudy">‚òÅÔ∏è Cloudy</option>
                        <option value="rainy">üåßÔ∏è Rainy</option>
                        <option value="stormy">‚õàÔ∏è Stormy</option>
                    </select>
                </div>
                
                <button id="start-trip-btn" class="btn btn-primary" disabled>Start Trip</button>
            </div>
        </section>

        <!-- Logging Phase -->
        <section id="logging-phase" class="phase hidden">
            <!-- Stop ID Display -->
            <div class="stop-display">
                <div id="stop-tile" class="stop-tile">
                    <span id="stop-label">R1</span>
                </div>
            </div>

            <!-- Control Bar -->
            <div class="control-bar">
                <button id="skip-btn" class="btn btn-secondary btn-sm">Skip</button>
                <button id="back-btn" class="btn btn-secondary btn-sm">Go Back</button>
                <button id="reset-btn" class="btn btn-danger btn-sm">Reset Trip</button>
            </div>

            <!-- Stop Activity Form -->
            <div class="card">
                <h3>Stop Activity</h3>
                
                <div class="toggle-group">
                    <label class="toggle-option">
                        <input type="radio" name="stop-status" value="picked-up">
                        <span class="toggle-label">Stopped to pick up</span>
                    </label>
                    <label class="toggle-option">
                        <input type="radio" name="stop-status" value="passed">
                        <span class="toggle-label">Passed without picking up</span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label for="notes-input">Notes (optional)</label>
                    <textarea id="notes-input" placeholder="Additional notes..." rows="2"></textarea>
                </div>
                
                <button id="done-btn" class="btn btn-primary btn-large">Done</button>
            </div>
        </section>

        <!-- Data Display Section -->
        <section id="data-section" class="card">
            <div class="section-header">
                <h3>Trip Data</h3>
                <div class="data-actions">
                    <button id="export-csv-btn" class="btn btn-outline btn-sm">CSV</button>
                    <button id="export-json-btn" class="btn btn-outline btn-sm">JSON</button>
                </div>
            </div>
            
            <div id="entries-count" class="count">0 entries</div>
            
            <div class="table-container">
                <table id="data-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Stop</th>
                            <th>Status</th>
                            <th>Notes</th>
                            <th>Edit</th>
                        </tr>
                    </thead>
                    <tbody id="data-tbody">
                        <!-- Entries will be inserted here -->
                    </tbody>
                </table>
            </div>
            
            <div id="no-data" class="no-data hidden">
                <p>No entries yet</p>
            </div>
        </section>
    </div>

    <!-- Confirmation Dialog -->
    <div id="confirm-dialog" class="modal hidden">
        <div class="modal-content">
            <h3 id="confirm-title">Confirm Action</h3>
            <p id="confirm-message">Are you sure?</p>
            <div class="modal-actions">
                <button id="confirm-cancel" class="btn btn-secondary">Cancel</button>
                <button id="confirm-ok" class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>